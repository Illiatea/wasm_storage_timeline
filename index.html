<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WASM Storage.Timeline Parser</title>
    <script src="wasm_exec.js"></script>
    <script src="main.js"></script>
</head>
<body>
<h2>WASM Storage.Timeline Parser</h2>
<button id="loadBinary">Load Binary Data</button>
<pre id="output">Waiting for data...</pre>

<script>
    async function loadTimeline() {

        const dataUri = "https://google-news-observer-3.hype.dev/timeline/all/strings?schema=google-observer-2&timeLine=677aa3b36ed2282308157319";
        // "https://google-news-observer-3.hype.dev/timeline/all/strings?schema=google-observer-2&timeLine=679159556ed228230815902e"

        const Schema = await window.StorageTimeline.Storage();
        const TimeLine = await Schema();
        const data = await TimeLine(dataUri);

        // Display the result
        document.getElementById("output").textContent = JSON.stringify(data, null, 2);
    }

    // Attach event listener to the button
    document.getElementById("loadBinary").addEventListener("click", loadTimeline);
</script>
</body>
</html>
